<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shungo Hirata</title>
    <link rel="stylesheet" href="styles.css" />
    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.0/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tweakpane@3.0.2/dist/tweakpane.min.js"></script>
  </head>
  <body x-data="appData()">
    <header class="main-header">
      <div class="logo">
        <h1>Shungo Hirata</h1>
      </div>
      <nav class="main-nav">
        <ul>
          <li>
            <a
              href="#home"
              @click.prevent="switchSection('home')"
              :class="{'active': currentSection === 'home'}"
              >Home</a
            >
          </li>
          <li>
            <a
              href="#about"
              @click.prevent="switchSection('about')"
              :class="{'active': currentSection === 'about'}"
              >About</a
            >
          </li>
          <li>
            <a
              href="#work"
              @click.prevent="switchSection('work')"
              :class="{'active': currentSection === 'work'}"
              >Work</a
            >
          </li>
          <li>
            <a
              href="#contact"
              @click.prevent="switchSection('contact')"
              :class="{'active': currentSection === 'contact'}"
              >Contact</a
            >
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <section id="home" x-show="currentSection === 'home'" class="section">
        <h2>Home</h2>
        <p>Welcome to my profile website</p>
      </section>
      <section id="about" x-show="currentSection === 'about'" class="section">
        <h2>About</h2>
        <p>Learn more about me and my background.</p>
      </section>
      <section id="work" x-show="currentSection === 'work'" class="section">
        <h2>Work</h2>
        <p>Check out my portfolio and projects.</p>
      </section>
      <section
        id="contact"
        x-show="currentSection === 'contact'"
        class="section"
      >
        <h2>Contact</h2>
        <p>Get in touch with me.</p>
      </section>
    </main>
    <footer>
      <p>&copy; 2024 Shungo Hirata. All rights reserved.</p>
    </footer>
    <script>
      function appData() {
        return {
          currentSection: "home",
          switchSection(section) {
            const oldSection = document.querySelector(
              `#${this.currentSection}`
            );
            const newSection = document.querySelector(`#${section}`);

            gsap.to(oldSection, {
              opacity: 0,
              y: 50,
              duration: PARAMS.animationSpeed,
              onComplete: () => {
                this.currentSection = section;
                gsap.fromTo(
                  newSection,
                  { opacity: 0, y: 50 },
                  { opacity: 1, y: 0, duration: PARAMS.animationSpeed }
                );
              },
            });
          },
        };
      }
    </script>

    <script>
      // document.addEventListener("alpine:init", () => {
      //   Alpine.store("app", {
      //     currentSection: "home",
      //   });
      // });

      // Initial animation
      gsap.from(".main-header", {
        opacity: 0,
        y: -50,
        duration: 1,
        ease: "power3.out",
      });
      gsap.from(".section", {
        opacity: 0,
        y: 50,
        duration: 1,
        ease: "power3.out",
        stagger: 0.2,
      });

      // Tweakpane setup
      const pane = new Tweakpane.Pane();
      const PARAMS = {
        animationSpeed: 0.5,
      };
      pane
        .addInput(PARAMS, "animationSpeed", { min: 0.1, max: 2 })
        .on("change", () => {
          console.log("Animation speed changed:", PARAMS.animationSpeed);
        });
    </script>
  </body>
</html>
